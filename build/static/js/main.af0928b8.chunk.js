(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(16),a=t.n(c),o=t(4),r=t(2),u=t(0),i=function(e){var n=e.addName,t=e.newName,c=e.handleNameChange,a=e.newNumber,o=e.handleNumberChange;return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:t,onChange:c})]}),Object(u.jsxs)("div",{children:["Number: ",Object(u.jsx)("input",{value:a,onChange:o})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})})},s=function(e){var n=e.nameToShow,t=e.remove;return Object(u.jsx)("div",{children:n.map((function(e){return Object(u.jsxs)("p",{children:[" ",e.name," ",e.number,Object(u.jsx)("button",{onClick:function(){return t(e.id,e.name)},children:"delete"})]},e.name)}))})},l=t(3),d=t.n(l),j="http://localhost:3001/api/persons",b=function(){return d.a.get(j).then((function(e){return e.data}))},h=function(e){return d.a.post(j,e).then((function(e){return e.data}))},m=function(e){return d.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data}))},f=(t(40),function(e){var n=e.message;return null===n?null:Object(u.jsx)("div",{className:"success",children:n})}),O=function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(""),l=Object(o.a)(a,2),d=l[0],j=l[1],O=Object(r.useState)(0),v=Object(o.a)(O,2),g=v[0],p=v[1],x=Object(r.useState)(null),N=Object(o.a)(x,2),w=N[0],C=N[1];Object(r.useEffect)((function(){b().then((function(e){c(e),console.log(e)}))}),[]);var S=t||t.filter((function(e){return!0===e.important}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(f,{message:w}),Object(u.jsx)("h3",{children:"add a new"}),Object(u.jsx)(i,{addName:function(e){e.preventDefault();var n=t.map((function(e){return e.name}));if(console.log(n),n.includes(d))alert("".concat(d," is already added to phonebook"));else{console.log("you clicked",e.target);var a={name:d,number:g};h(a).then((function(e){c(t.concat(e)),C("Added ".concat(a.name)),j(""),p("")})),setTimeout((function(){C(null)}),5e3)}},newName:d,handleNameChange:function(e){j(e.target.value),console.log(e.target.value)},newNumber:g,handleNumberChange:function(e){p(e.target.value),console.log(e.target.value)}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(s,{nameToShow:S,remove:function(e,n){window.confirm("do you want to delete ".concat(n))&&m(e)}})]})};a.a.render(Object(u.jsx)(O,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.af0928b8.chunk.js.map